{% extends "private/layout.html" %}

{% comment %} @var subscription src.payment.models.Subscription {% endcomment %}

{% block content %}
{% if subscription == None %}
<div class="text-center p-4 mb-4 text-sm text-yellow-800 rounded-lg bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300"
     role="alert">
    You have no active subscriptions
</div>
{% else %}
<div class="p-4 mb-4 text-sm text-blue-800 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-blue-400" role="alert">
    Your active subscription is: {{ subscription.get_package }}
</div>
{% endif %}


<section class="mx-auto max-w-6xl px-4">
    <header class="mb-10 text-center">
        <h1 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">Choose your plan</h1>
        <p class="mt-2 text-slate-600">Simple, transparent pricing to match your needs.</p>
    </header>


    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <!-- Starter Plan -->
        <article class="relative rounded-2xl border border-slate-200 bg-white p-6 shadow-sm hover:shadow-lg">
            <h2 class="mt-2 text-xl font-semibold text-slate-900">Starter</h2>
            <p class="mt-1 text-sm text-slate-600">Get going with the basics.</p>
            <ul class="mt-4 space-y-2 text-sm text-slate-700">
                <li class="flex items-start gap-2"><span class="mt-0.5 h-2 w-2 rounded-full bg-slate-300"></span>Up to 3
                    projects
                </li>
                <li class="flex items-start gap-2"><span class="mt-0.5 h-2 w-2 rounded-full bg-slate-300"></span>Basic
                    analytics
                </li>
                <li class="flex items-start gap-2"><span class="mt-0.5 h-2 w-2 rounded-full bg-slate-300"></span>Email
                    support
                </li>
            </ul>
            <div class="mt-6">
                <form method="POST" action="{% url 'subscribe' %}">
                    {% csrf_token %}
                    <input type="hidden" name="package" value="starter">
                    <button type="submit"
                            class="w-full rounded-xl bg-black px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800">
                        Subscribe
                    </button>
                </form>
            </div>
        </article>


        <!-- Pro Plan -->
        <article
                class="relative rounded-2xl border border-slate-200 bg-white p-6 shadow-sm hover:shadow-lg ring-2 ring-indigo-500">
            <div class="absolute -top-3 left-1/2 -translate-x-1/2 select-none rounded-full bg-indigo-600 px-3 py-1 text-xs font-medium text-white shadow">
                Most popular
            </div>
            <h2 class="mt-2 text-xl font-semibold text-slate-900">Pro</h2>
            <p class="mt-1 text-sm text-slate-600">More power for growing teams.</p>
            <ul class="mt-4 space-y-2 text-sm text-slate-700">
                <li class="flex items-start gap-2"><span class="mt-0.5 h-2 w-2 rounded-full bg-slate-300"></span>Unlimited
                    projects
                </li>
                <li class="flex items-start gap-2"><span class="mt-0.5 h-2 w-2 rounded-full bg-slate-300"></span>Advanced
                    analytics
                </li>
                <li class="flex items-start gap-2"><span class="mt-0.5 h-2 w-2 rounded-full bg-slate-300"></span>Priority
                    email & chat support
                </li>
            </ul>
            <div class="mt-6">
                <form method="POST" action="{% url 'subscribe' %}">
                    {% csrf_token %}
                    <input type="hidden" name="package" value="pro">
                    <button type="submit"
                            class="w-full rounded-xl bg-black px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800">
                        Subscribe
                    </button>
                </form>
            </div>
        </article>


        <!-- Enterprise Plan -->
        <article class="relative rounded-2xl border border-slate-200 bg-white p-6 shadow-sm hover:shadow-lg">
            <h2 class="mt-2 text-xl font-semibold text-slate-900">Enterprise</h2>
            <p class="mt-1 text-sm text-slate-600">Security, scale, and support.</p>
            <ul class="mt-4 space-y-2 text-sm text-slate-700">
                <li class="flex items-start gap-2"><span class="mt-0.5 h-2 w-2 rounded-full bg-slate-300"></span>Custom
                    SLAs
                </li>
                <li class="flex items-start gap-2"><span class="mt-0.5 h-2 w-2 rounded-full bg-slate-300"></span>Single
                    Sign-On (SSO)
                </li>
                <li class="flex items-start gap-2"><span class="mt-0.5 h-2 w-2 rounded-full bg-slate-300"></span>Dedicated
                    success manager
                </li>
            </ul>
            <div class="mt-6">
                <button class="w-full rounded-xl bg-black px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800">
                    Contact Sales
                </button>
            </div>
        </article>
    </div>


    <p class="mt-6 text-center text-xs text-slate-500">You can upgrade, downgrade, or cancel anytime.</p>
</section>
{% endblock %}